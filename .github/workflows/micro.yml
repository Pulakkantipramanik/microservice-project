name: Build and Analyze Microservice Project

on:
push:
branches:
- main
pull_request:
branches:
- main

jobs:
build:
runs-on: ubuntu-latest

```
steps:
  - name: Checkout repository
    uses: actions/checkout@v4

  - name: Set up JDK 17
    uses: actions/setup-java@v4
    with:
      java-version: '17'
      distribution: 'temurin'
      cache: maven

  - name: SonarQube Code Analysis
    env:
      SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
      SONAR_HOST_URL: ${{ secrets.SONAR_HOST_URL }}
    run: |
      mvn sonar:sonar \
        -Dsonar.projectKey=microservice-project \
        -Dsonar.projectName=microservice-project \
        "-Dsonar.host.url=${{ secrets.SONAR_HOST_URL }}" \
        "-Dsonar.login=${{ secrets.SONAR_TOKEN }}"
```
